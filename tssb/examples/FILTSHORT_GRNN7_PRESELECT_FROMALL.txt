RETAIN YEARS 1989 THROUGH 2013 ;
RETAIN MARKET LIST "ALL_SYMBOLS.TXT" ;
READ DATABASE "AG7.DAT" "AG7.FAM" ;

APPEND DATABASE "TSSP_SHORT.CSV" ;

REALPROFIT IS PROFIT ;

OUTLIER SCAN ;

MODEL FILTLONG1 IS QUADRATIC [
   INPUT = [ RSI_25 PPV100 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
] ;

MODEL FILTLONG2 IS QUADRATIC [
   INPUT = [ LINDEV_50 VMOM50 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
] ;

MODEL FILTLONG3 IS QUADRATIC [
   INPUT = [ INT_50 DINT_100 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
] ;

MODEL FILTLONG5 IS QUADRATIC [
   INPUT = [ MADIFF_25_50 RDMORLET50 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
] ;

MODEL FILTLONG8 IS QUADRATIC [
   INPUT = [ FTI50 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
] ;


COMMITTEE COMM2 IS CONSTRAINED [
   INPUT = [ FILTLONG1 FILTLONG2 FILTLONG3 FILTLONG5 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   MCP TEST = 1000
] ;

COMMITTEE COMM3 IS CONSTRAINED [
   INPUT = [ FILTLONG1 FILTLONG2 FILTLONG3 FILTLONG5 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 3
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   MCP TEST = 1000
] ;

COMMITTEE COMM4 IS CONSTRAINED [
   INPUT = [ FILTLONG1 FILTLONG2 FILTLONG3 FILTLONG5 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 4
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   MCP TEST = 1000
] ;

COMMITTEE COMM5 IS AVERAGE [
   INPUT = [ FILTLONG1 FILTLONG2 FILTLONG3 FILTLONG5 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   MCP TEST = 1000
] ;

COMMITTEE COMM6 IS AVERAGE [
   INPUT = [ FILTLONG1 FILTLONG2 FILTLONG3 FILTLONG5 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 3
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   MCP TEST = 1000
] ;

COMMITTEE COMM7 IS AVERAGE [
   INPUT = [ FILTLONG1 FILTLONG2 FILTLONG3 FILTLONG5 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 4
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   MCP TEST = 1000
] ;

WALK FORWARD BY year 9 2002 ;
