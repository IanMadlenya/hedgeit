RETAIN YEARS 1989 THROUGH 2013 ;
RETAIN MARKET LIST "G2.TXT" ;
READ DATABASE "AG6.DAT" "AG6.FAM" ;

APPEND DATABASE "TSSP_LONG.CSV" ;

REALPROFIT IS PROFIT ;

OUTLIER SCAN ;

MODEL FILTLONG1 IS QUADRATIC [
   INPUT = [ PPV100 PENT3 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
] ;

MODEL FILTLONG2 IS QUADRATIC [
   INPUT = [ LIN_ATR_50 RDMORLET100 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
] ;

MODEL FILTLONG3 IS QUADRATIC [
   INPUT = [ DREACT_50_100 VMOM50 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
] ;

MODEL FILTLONG5 IS QUADRATIC [
   INPUT = [ DINT_100 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
] ;

MODEL FILTLONG8 IS QUADRATIC [
   INPUT = [ QUAD_ATR_100 PPV50 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
] ;


COMMITTEE COMM2 IS CONSTRAINED [
   INPUT = [ FILTLONG1 FILTLONG2 FILTLONG3 FILTLONG5 FILTLONG8 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   MCP TEST = 1000
] ;

COMMITTEE COMM3 IS CONSTRAINED [
   INPUT = [ FILTLONG1 FILTLONG2 FILTLONG3 FILTLONG5 FILTLONG8 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 3
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   MCP TEST = 1000
] ;

COMMITTEE COMM4 IS CONSTRAINED [
   INPUT = [ FILTLONG1 FILTLONG2 FILTLONG3 FILTLONG5 FILTLONG8 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 5
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   MCP TEST = 1000
] ;

COMMITTEE COMM5 IS AVERAGE [
   INPUT = [ FILTLONG1 FILTLONG2 FILTLONG3 FILTLONG5 FILTLONG8 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 0
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   MCP TEST = 1000
] ;

COMMITTEE COMM6 IS AVERAGE [
   INPUT = [ FILTLONG1 FILTLONG2 FILTLONG3 FILTLONG5 FILTLONG8 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 3
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   MCP TEST = 1000
] ;

COMMITTEE COMM7 IS AVERAGE [
   INPUT = [ FILTLONG1 FILTLONG2 FILTLONG3 FILTLONG5 FILTLONG8 ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = 5
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   MCP TEST = 1000
] ;

WALK FORWARD BY year 9 2002 ;
