RETAIN YEARS <YEAR_START> THROUGH <VAL_YEAR> ;
RETAIN MARKET LIST "..\..\ALL_SYMBOLS.TXT" ;
READ DATABASE "<DB_NAME>.DAT" "<DB_NAME>.FAM" ;

APPEND DATABASE "<TRADE_DB>" ;

REALPROFIT IS PROFIT ;

OUTLIER SCAN ;

MODEL FILTLONG1 IS <MODEL> [
   INPUT = [ <VAR_1> - <VAR_N> ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = <NUM_VARS>
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
   EXCLUSION GROUP = 1
] ;

MODEL FILTLONG2 IS <MODEL> [
   INPUT = [ <VAR_1> - <VAR_N> ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = <NUM_VARS>
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
   EXCLUSION GROUP = 1
] ;

MODEL FILTLONG3 IS <MODEL> [
   INPUT = [ <VAR_1> - <VAR_N> ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = <NUM_VARS>
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
   EXCLUSION GROUP = 1
] ;

MODEL FILTLONG4 IS <MODEL> [
   INPUT = [ <VAR_1> - <VAR_N> ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = <NUM_VARS>
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
   EXCLUSION GROUP = 1
] ;

MODEL FILTLONG5 IS <MODEL> [
   INPUT = [ <VAR_1> - <VAR_N> ]
   OUTPUT = REALPROFIT
   MAX STEPWISE = <NUM_VARS>
   STEPWISE RETENTION = 10
   CRITERION = LONG PROFIT FACTOR
   MIN CRITERION FRACTION = 0.3
   SHOW SELECTION COUNT
   EXCLUSION GROUP = 1
] ;


WALK FORWARD BY year 10 <VAL_YEAR> ;
